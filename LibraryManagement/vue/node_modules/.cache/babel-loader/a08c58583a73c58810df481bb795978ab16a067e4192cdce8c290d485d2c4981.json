{"ast":null,"code":"import request from \"@/utils/request\";\nimport { load } from \"mime\";\nexport default {\n  name: \"HomeView\",\n  data() {\n    return {\n      tableData: [],\n      total: 0,\n      params: {\n        pageNum: 1,\n        pagesize: 10,\n        name: \"\",\n        phone: \"\"\n      }\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    load() {\n      // fetch(\"http://localhost:9090/user/list\")\n      //   .then((res) => res.json())\n      //   .then((res) => {\n      //     console.log(res);\n      //     this.tableData = res;\n      //   });\n\n      request.get(\"/user/page\", {\n        params: this.params\n      }).then(res => {\n        if (res.code = \"200\") {\n          this.tableData = res.data.list;\n          this.total = res.data.total;\n        }\n      });\n    },\n    reset\n  }\n};","map":{"version":3,"names":["request","load","name","data","tableData","total","params","pageNum","pagesize","phone","created","methods","get","then","res","code","list","reset"],"sources":["src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 搜索表单 -->\n    <div style=\"margin-bottom: 10px\">\n      <el-input style=\"width: 240px\" placeholder=\"请输入姓名\" v-model=\"params.name\"></el-input>\n      <el-input style=\"width: 240px; margin-left: 5px\" placeholder=\"请输入联系方式\" v-model=\"params.phone\"></el-input>\n      <el-button @click=\"load\" style=\"margin-left: 5px\" type=\"primary\"><i class=\"el-icon-search\"></i><span>搜索</span></el-button>\n      <el-button @click=\"reset\" style=\"margin-left: 5px\" type=\"warning\"><i class=\"el-icon-search\"></i><span>重制</span></el-button>\n    </div>\n\n    <el-table :data=\"tableData\" stripe>\n      <el-table-column prop=\"name\" label=\"姓名\"></el-table-column>\n      <el-table-column prop=\"username\" label=\"用户名\"></el-table-column>\n      <el-table-column prop=\"age\" label=\"年龄\"></el-table-column>\n      <el-table-column prop=\"sex\" label=\"性别\"></el-table-column>\n      <el-table-column prop=\"phone\" label=\"联系方式\"></el-table-column>\n      <el-table-column prop=\"address\" label=\"地址\"></el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <div style=\"margin-top: 10px\">\n      <div class=\"block\">\n        <el-pagination\n          current-page=\"params.pageNum\"\n          page-size=\"params.pageSize\"\n          layout=\"prev, pager, next\"\n          :total=\"total\"\n        >\n        </el-pagination>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\nimport { load } from \"mime\";\n\nexport default {\n  name: \"HomeView\",\n\n  data() {\n    return {\n      tableData: [],\n      total: 0,\n      params: {\n        pageNum: 1,\n        pagesize: 10,\n        name: \"\",\n        phone: \"\",\n      },\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    load() {\n      // fetch(\"http://localhost:9090/user/list\")\n      //   .then((res) => res.json())\n      //   .then((res) => {\n      //     console.log(res);\n      //     this.tableData = res;\n      //   });\n\n      request.get(\"/user/page\", { params: this.params }).then((res) => {\n        if ((res.code = \"200\")) {\n          this.tableData = res.data.list;\n          this.total = res.data.total;\n        }\n      });\n    },\n    reset\n  },\n};\n</script>\n"],"mappings":"AAmCA,OAAAA,OAAA;AACA,SAAAC,IAAA;AAEA;EACAC,IAAA;EAEAC,KAAA;IACA;MACAC,SAAA;MACAC,KAAA;MACAC,MAAA;QACAC,OAAA;QACAC,QAAA;QACAN,IAAA;QACAO,KAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAT,IAAA;EACA;EACAU,OAAA;IACAV,KAAA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEAD,OAAA,CAAAY,GAAA;QAAAN,MAAA,OAAAA;MAAA,GAAAO,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAX,SAAA,GAAAU,GAAA,CAAAX,IAAA,CAAAa,IAAA;UACA,KAAAX,KAAA,GAAAS,GAAA,CAAAX,IAAA,CAAAE,KAAA;QACA;MACA;IACA;IACAY;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}