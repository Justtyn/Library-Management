{"ast":null,"code":"import router from \"@/router\";\nimport request from \"@/utils/request\";\n//   import { load } from \"mime\";\n\nexport default {\n  name: \"User\",\n  data() {\n    return {\n      tableData: [],\n      total: 0,\n      params: {\n        pageNum: 1,\n        pagesize: 10,\n        name: \"\",\n        phone: \"\"\n      }\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    load() {\n      request.get(\"/user/page\", {\n        params: this.params\n      }).then(res => {\n        if (res.code = \"200\") {\n          this.tableData = res.data.list;\n          this.total = res.data.total;\n        }\n      });\n    },\n    convertLoad() {\n      request.get(\"/user/page\", {\n        params: this.params\n      }).then(res => {\n        if (res.code = \"200\") {\n          this.tableData = res.data.list;\n          this.total = res.data.total;\n        }\n      });\n    },\n    del(id) {\n      request.delete(\"/user/delete/\" + id).then(res => {\n        if (res.code === \"200\") {\n          this.$notify.success(\"删除成功\");\n          this.load();\n        } else {\n          this.$notify.error(\"删除失败\" + \"\\nres.msg\");\n        }\n      });\n    },\n    reset() {\n      this.params = {\n        pageNum: 1,\n        pagesize: 10,\n        name: \"\",\n        phone: \"\"\n      };\n      this.load();\n    },\n    handelCurrentChange(pNum) {\n      // 点击分页按钮 触发分页\n      console.log(pNum);\n      this.params.pageNum = pNum;\n      this.load();\n    }\n  }\n};","map":{"version":3,"names":["router","request","name","data","tableData","total","params","pageNum","pagesize","phone","created","load","methods","get","then","res","code","list","convertLoad","del","id","delete","$notify","success","error","reset","handelCurrentChange","pNum","console","log"],"sources":["src/views/user/User.vue"],"sourcesContent":["<template>\n  <div style=\"padding: 35px\">\n    <!-- 搜索表单 -->\n    <div style=\"margin-bottom: 20px\">\n      <el-input\n        style=\"width: 240px\"\n        placeholder=\"请输入用户名\"\n        v-model=\"params.name\"\n      ></el-input>\n      <el-inputa\n        placeholder=\"请输入联系方式\"\n        v-model=\"params.phone\"\n      ></el-inputa>\n      <el-button @click=\"load\" style=\"margin-left: 5px\" type=\"primary\"\n        ><i class=\"el-icon-search\"></i><span>搜索</span></el-button\n      >\n      <el-button @click=\"reset\" style=\"margin-left: 5px\" type=\"warning\"\n        ><i class=\"el-icon-refresh\"></i><span>重置</span></el-button\n      >\n      <el-button\n        style=\"float: right; margin-right: 13px\"\n        @click=\"$router.push('/addUser')\"\n        type=\"danger\"\n        ><i class=\"el-icon-refresh\"></i><span>添加用户</span></el-button\n      >\n      <el-button style=\"float: right; margin-right: 0px\" type=\"primary\"\n        ><i class=\"el-icon-loading\"></i><span>切换排序</span></el-button\n      >\n    </div>\n\n    <el-table :data=\"tableData\" stripe>\n      <el-table-column width=\"60\" prop=\"id\" label=\"编号\"></el-table-column>\n      <el-table-column prop=\"name\" width=\"80\" label=\"用户名\"></el-table-column>\n      <el-table-column\n        prop=\"username\"\n        width=\"160\"\n        label=\"UUID\"\n      ></el-table-column>\n      <el-table-column prop=\"age\" width=\"60\" label=\"年龄\"></el-table-column>\n      <el-table-column prop=\"sex\" width=\"60\" label=\"性别\"></el-table-column>\n      <el-table-column prop=\"phone\" label=\"联系方式\"></el-table-column>\n      <el-table-column prop=\"address\" label=\"地址\"></el-table-column>\n      <el-table-column prop=\"createtime\" label=\"创建时间\"></el-table-column>\n      <el-table-column prop=\"updatetime\" label=\"更新时间\"></el-table-column>\n\n      <el-table-column label=\"操作\">\n        <template v-slot=\"scope\">\n          <el-button\n            @click=\"$router.push('/editUser?id=' + scope.row.id)\"\n            type=\"primary\"\n            size=\"mini\"\n            >编辑</el-button\n          >\n          <el-popconfirm\n            style=\"margin-left: 10px\"\n            title=\"您确定删除这行数据嘛？\"\n            @confirm=\"del(scope.row.id)\"\n          >\n            <el-button type=\"danger\" size=\"mini\" slot=\"reference\"\n              >删除</el-button\n            >\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <div style=\"margin-top: 10px\">\n      <div class=\"block\">\n        <el-pagination\n          current-page=\"params.pageNum\"\n          :\n          page-size=\"params.pageSize\"\n          ;\n          v-model.number=\"params.pageNum\"\n          layout=\"prev, pager, next\"\n          @current-change=\"handelCurrentChange\"\n          :total=\"total\"\n        >\n        </el-pagination>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport router from \"@/router\";\nimport request from \"@/utils/request\";\n//   import { load } from \"mime\";\n\nexport default {\n  name: \"User\",\n\n  data() {\n    return {\n      tableData: [],\n      total: 0,\n      params: {\n        pageNum: 1,\n        pagesize: 10,\n        name: \"\",\n        phone: \"\",\n      },\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    load() {\n      request.get(\"/user/page\", { params: this.params }).then((res) => {\n        if ((res.code = \"200\")) {\n          this.tableData = res.data.list;\n          this.total = res.data.total;\n        }\n      });\n    },\n    convertLoad() {\n      request.get(\"/user/page\", { params: this.params }).then((res) => {\n        if ((res.code = \"200\")) {\n          this.tableData = res.data.list;\n          this.total = res.data.total;\n        }\n      });\n    },\n    del(id) {\n      request.delete(\"/user/delete/\" + id).then((res) => {\n        if (res.code === \"200\") {\n          this.$notify.success(\"删除成功\");\n          this.load();\n        } else {\n          this.$notify.error(\"删除失败\" + \"\\nres.msg\");\n        }\n      });\n    },\n    reset() {\n      this.params = {\n        pageNum: 1,\n        pagesize: 10,\n        name: \"\",\n        phone: \"\",\n      };\n      this.load();\n    },\n    handelCurrentChange(pNum) {\n      // 点击分页按钮 触发分页\n      console.log(pNum);\n      this.params.pageNum = pNum;\n      this.load();\n    },\n  },\n};\n</script>\n"],"mappings":"AAsFA,OAAAA,MAAA;AACA,OAAAC,OAAA;AACA;;AAEA;EACAC,IAAA;EAEAC,KAAA;IACA;MACAC,SAAA;MACAC,KAAA;MACAC,MAAA;QACAC,OAAA;QACAC,QAAA;QACAN,IAAA;QACAO,KAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAD,KAAA;MACAV,OAAA,CAAAY,GAAA;QAAAP,MAAA,OAAAA;MAAA,GAAAQ,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAZ,SAAA,GAAAW,GAAA,CAAAZ,IAAA,CAAAc,IAAA;UACA,KAAAZ,KAAA,GAAAU,GAAA,CAAAZ,IAAA,CAAAE,KAAA;QACA;MACA;IACA;IACAa,YAAA;MACAjB,OAAA,CAAAY,GAAA;QAAAP,MAAA,OAAAA;MAAA,GAAAQ,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAZ,SAAA,GAAAW,GAAA,CAAAZ,IAAA,CAAAc,IAAA;UACA,KAAAZ,KAAA,GAAAU,GAAA,CAAAZ,IAAA,CAAAE,KAAA;QACA;MACA;IACA;IACAc,IAAAC,EAAA;MACAnB,OAAA,CAAAoB,MAAA,mBAAAD,EAAA,EAAAN,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAM,OAAA,CAAAC,OAAA;UACA,KAAAZ,IAAA;QACA;UACA,KAAAW,OAAA,CAAAE,KAAA;QACA;MACA;IACA;IACAC,MAAA;MACA,KAAAnB,MAAA;QACAC,OAAA;QACAC,QAAA;QACAN,IAAA;QACAO,KAAA;MACA;MACA,KAAAE,IAAA;IACA;IACAe,oBAAAC,IAAA;MACA;MACAC,OAAA,CAAAC,GAAA,CAAAF,IAAA;MACA,KAAArB,MAAA,CAAAC,OAAA,GAAAoB,IAAA;MACA,KAAAhB,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}